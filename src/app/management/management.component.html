
<div class="formfield">
    <h2 i18n="@@admmanage">User Management</h2>

    <button i18n="@@createadm"><a routerLink="/user">create user</a></button>
    <h3>Users</h3>

    <input ng-model="search"/>

    <ng-container *ngIf="users">
        <ul id="userlist" ng-model="selectedUser">
            <li *ngFor="let user of users" (click)="onSelect(user)">{{user.name}} | {{user.location}}</li>
        </ul>
    </ng-container>
    <ng-container *ngIf="selectedUser">
        <form id="userdata"  (ngSubmit)="createUser(selectedUser)">
            <label>
                <span i18n>ID</span>:  {{selectedUser.id}}
            </label>
            <label for="name">
                <span i18n>name</span>:
                <br/><input id="name" placeholder="nome de usuario" value={{selectedUser.name}}/>
            </label>
            <label>
                <span i18n>password</span>:
                <br/><input type="password"  placeholder="password" value={{selectedUser.password}} />
            </label>
            <label>
                <span i18n>recovery phrase</span>:
                <br/><input  placeholder="write a question to recover your password" value={{selectedUser.password}} />
            </label>
            <label>
                <span i18n>recovery answer</span>:
                <br/><input  placeholder="answer to your recovery question" value={{selectedUser.recover_answer}} />
            </label>
            <label>
                <span i18n>phone number</span>:
                <br/><input  placeholder="phone number" value={{selectedUser.phone}} />
            </label>
            <label>
                <span i18n>local site</span>:
                <br/><input  placeholder="website"  value={{selectedUser.site}}/>
            </label>

            <hr>
                <span i18n>created at</span>: <span> {{selectedUser.created_at}}</span>
            <hr>

            <label>
                <span i18n>is admin</span>:
                <br/><input class="ckbx" type="checkbox" value="{{selectedUser.admin}}"  />
            </label>

            <span i18n="@@selectstation">station
            </span>:
            <ng-container *ngIf="stations">

                <select ng-model="selectedStation">
                    <option *ngFor="let station of stations">{{station.name}} | {{station.location}}</option>

                </select>
                </ng-container>

                <button type="submit" (click)="onSubmit('delete',selectedUser)">delete user</button>
                <button type="submit" (click)="onSubmit('update',selectedUser,selectedStation)">update user</button>

        <input type="submit" class="sbmbtn">
        </form>
    </ng-container>

</div>

