<div id="compose" class="formfield">
    <h2 i18n>send your public message to another station</h2>

<form #f="ngForm" class="formdata" (ngSubmit)="onSubmitCreateMessage(f)" novalidate >

    
    <label for="id" class="mssgid">
        <span i18n>id</span>: {{message.id}}
    </label>
    <label for="name">
        <span i18n>Description</span>:
        <br/><input name="name" [(ngModel)]="message.name" required #name="ngModel" placeholder="write the username" />
    </label>

    <label for="text">
        <span i18n="@@message">Message</span>:
        <br/>
        <textarea matInput rows="5" cols="35" name="text" [(ngModel)]="message.text"     required #name="ngModel" placeholder="write the message"></textarea>
    </label>

    <!--
    <label for="dest">
        <span i18n="@@destination">destination</span>:
        <br/><input name="dest" [(ngModel)]="message.dest" required #name="ngModel" placeholder="write the message" />
    </label>
-->
    

<label class="selstation">
    <span class="icon"><img title="messages" src="/assets/svg/broadcast-tower.svg">
        <span i18n="@@selectstation">select station
        :<br>
        <br>
        <ng-container *ngIf="stations">

            <select [(ngModel)]="message.dest">
                <option *ngFor="let station of stations">{{station.name}} | {{station.location}}</option>
            </select>
            </ng-container>
        </span>
    </span>
</label>


    <label for="orig" class="origin">
        <p>orig: {{message.orig}}</p>
    </label>
    

<label class="file">
   <!-- <input type="file" name="orig"  [(ngModel)]="message.orig" i18n="@@selectfile"  (change)="handleFileInput($event.target.files)"><br/>-->
</label>

<hr>
<div class="uploader">
<!--
        test with angular-file-uploader

       https://www.npmjs.com/package/angular-file-uploader
       [resetUpload]=resetVar
    -->
    <angular-file-uploader  #fileUpload1
      [config]="afuConfig"
      (ApiResponse)="DocUpload($event)">
    </angular-file-uploader>

    <ng-container *ngIf="fileUpload1">
        <p>arquivos:</p>{{fileUpload1.currentUploads}}

    </ng-container>    
    
</div>


<label class="passprotect">
    <span class="icon lock"><img title="messages" src="/assets/svg/lock.svg">
        <span i18n="@@protectpssw">protect with password</span>:
        <input type="checkbox"/>
    </span>
</label>


    <!--<button i18n="@@send">send</button>-->
    <input type="submit" class="sbmbtn">

</form>

</div>


